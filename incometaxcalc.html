<!DOCTYPE html>
<html>

<head>
    <title>Income Tax Calculator</title>
    <link rel="stylesheet" href = "incometaxcalc.css">
    <link href="https://fonts.googleapis.com/css2?family=Chewy&family=Fredoka:wght@300..700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Short+Stack&display=swap" rel="stylesheet">
</head>

<body>
    <div>
    <img id = "appledog" src = "appledog.png">
    <div class = "calculator">
        <h1 id = "header">Income Tax Calculator</h1>
        <div class = "input">
            <label class = "label"for = " ti">Taxable Income:</label>
            <input type="number" id="ti">
        </div>
        <br>
        <div class = "output">
            <label class = "label" for = "incometax">Income Tax:</label>
            <input type="number" id="incometax" readonly>
        </div>
    </div>
    <img id = "tonguecar" src = "tonguecar.png">
</body>

<script>
    function addListeners() {
        document.getElementById("ti").addEventListener("keyup", computeTax);
    }
    
    function computeTax() {
        let basictax, brackettax, totaltax, incometax;
        
        incometax = document.getElementById("ti").value * 1;
        
        if (incometax < 250000) {
            basictax = 0;
            brackettax = 0;
        } else if (incometax >= 250000 && incometax < 400000) {
            basictax = 0;
            brackettax = 0.20 * (incometax - 250000);
        } else if (incometax >= 400000 && incometax < 800000) {
            basictax = 30000;
            brackettax = 0.25 * (incometax - 400000);
        } else if (incometax >= 800000 && incometax < 2000000) {
            basictax = 130000;
            brackettax = 0.30 * (incometax - 800000);
        } else if (incometax >= 2000000 && incometax < 8000000) {
            basictax = 490000;
            brackettax = 0.32 * (incometax - 2000000);
        } else {
            basictax = 2410000;
            brackettax = 0.35 * (incometax - 8000000);
        }
        
        totaltax = basictax + brackettax;
        
        console.log(totaltax);
        
        document.getElementById("incometax").value = totaltax.toFixed(2);
    }
    
    (() => {
        addListeners();
    })();
</script>

</html>